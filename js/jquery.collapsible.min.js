
(function(b){b.fn.collapsible=function(t,s){if(!this||this.length<1){return this}if(typeof t=="string"){return b.fn.collapsible.dispatcher[t](this,s)}return b.fn.collapsible.dispatcher._create(this,t)};b.fn.collapsible.dispatcher={_create:function(t,s){r(t,s)},toggle:function(s){m(s,l(s));return s},open:function(s){i(s,l(s));return s},close:function(s){j(s,l(s));return s},collapsed:function(s){return c(s,l(s))},openAll:function(s){return o(s,l(s))},closeAll:function(s){return h(s,l(s))}};function r(u,s){var t=b.extend({},b.fn.collapsible.defaults,s);var v=[];u.each(function(){var y=b(this);a(y,t);if(t.bind=="mouseenter"){y.bind("mouseenter",function(A){A.preventDefault();m(y,t)})}if(t.bind=="mouseover"){y.bind("mouseover",function(A){A.preventDefault();m(y,t)})}if(t.bind=="click"){y.bind("click",function(A){A.preventDefault();m(y,t)})}if(t.bind=="dblclick"){y.bind("dblclick",function(A){A.preventDefault();m(y,t)})}var z=y.attr("id");if(!e(t)){var x=d(z,t);if(x===false){y.addClass(t.cssClose);t.loadClose(y,t)}else{y.addClass(t.cssOpen);t.loadOpen(y,t);v.push(z)}}else{if(q(t)){var w=n(z,t);if(w===false){y.addClass(t.cssClose);t.loadClose(y,t)}else{y.addClass(t.cssOpen);t.loadOpen(y,t);v.push(z)}}else{x=d(z,t);if(x===false){y.addClass(t.cssClose);t.loadClose(y,t)}else{y.addClass(t.cssOpen);t.loadOpen(y,t);v.push(z)}}}});if(v.length>0&&e(t)){k(v.toString(),t)}else{k("",t)}return u}function l(s){return s.data("collapsible-opts")}function a(t,s){return t.data("collapsible-opts",s)}function c(t,s){return t.hasClass(s.cssClose)}function j(t,s){t.addClass(s.cssClose).removeClass(s.cssOpen);s.animateClose(t,s);if(e(s)){var u=t.attr("id");g(u,s)}}function i(t,s){t.removeClass(s.cssClose).addClass(s.cssOpen);s.animateOpen(t,s);if(e(s)){var u=t.attr("id");f(u,s)}}function m(t,s){if(c(t,s)){i(t,s)}else{j(t,s)}return false}function o(t,s){b.each(t,function(u,v){if(c(b(v),s)){i(b(v),s)}})}function h(t,s){b.each(t,function(u,v){if(!c(b(v),s)){j(b(v),s)}})}function e(s){if(!b.cookie||s.cookieName==""){return false}return true}function f(v,u){if(!e(u)){return false}if(!q(u)){k(v,u);return true}if(n(v,u)){return true}var t=decodeURIComponent(b.cookie(u.cookieName));var s=t.split(",");s.push(v);k(s.toString(),u);return true}function g(w,v){if(!e(v)){return false}if(!q(v)){return true}var u=n(w,v);if(u===false){return true}var t=decodeURIComponent(b.cookie(v.cookieName));var s=t.split(",");s.splice(u,1);k(s.toString(),v);return true}function k(t,s){if(!e(s)){return false}b.cookie(s.cookieName,t,s.cookieOptions);return true}function n(w,v){if(!e(v)){return false}if(!q(v)){return false}var t=decodeURIComponent(b.cookie(v.cookieName));var s=t.split(",");var u=b.inArray(w,s);if(u==-1){return false}return u}function q(s){if(!e(s)){return false}if(b.cookie(s.cookieName)===null){return false}return true}function d(v,t){var u=p(t);var s=b.inArray(v,u);if(s==-1){return false}return s}function p(s){var t=[];if(s.defaultOpen!=""){t=s.defaultOpen.split(",")}return t}b.fn.collapsible.defaults={cssClose:"collapse-close",cssOpen:"collapse-open",cookieName:"collapsible",cookieOptions:{path:"/",expires:7,domain:"",secure:""},defaultOpen:"",speed:"slow",bind:"click",animateOpen:function(t,s){t.next().stop(true,true).slideDown(s.speed)},animateClose:function(t,s){t.next().stop(true,true).slideUp(s.speed)},loadOpen:function(t,s){t.next().show()},loadClose:function(t,s){t.next().hide()}}})(jQuery);